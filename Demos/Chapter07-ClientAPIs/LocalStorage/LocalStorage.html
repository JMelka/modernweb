<!DOCTYPE html >

<html>
<head>
    <title>Using Local Storage</title>
    <script>
        var submitButton, clearButton, nameTextBox, statesSelect, outputSpan;

        window.onload = function() {
            submitButton = document.getElementById('submitButton');
            clearButton = document.getElementById('clearButton');
            nameTextBox = document.getElementById('nameTextBoxId');
            statesSelect = document.getElementById('statesSelect');
            outputSpan = document.getElementById('outputSpan');

            loadSettings();
            
           
        }

        function loadSettings() {
            var name = localStorage.getItem('name');
            var state = localStorage.getItem('state');
            nameTextBox.value = name;
            statesSelect.value = state;
        }

        function clearSettings() {  
              localStorage.clear();
              loadSettings();
              alert('storage cleared');
        }
        
        function storeSettings() {
              if (hasLocalStorage) {
                    try {
                        localStorage.setItem('name', nameTextBox.value);
                        localStorage.setItem('state',  statesSelect.value);
                        outputSpan.innerText = 'Settings Saved!';
                    } catch(e) {
                            alert('Storage quota exceeded');
                    } 
                }
              else alert('No local storage support');
        }
        
        function hasLocalStorage() {
            return ('localStorage' in window && window['localStorage'] != null);
        }
    </script>
</head>
<body>
    <h2>Settings</h2>
    <br />
    Name: <input type="text" id="nameTextBoxId"/>
    <br />
    State: 
    <select id="statesSelect">
        <option>Pennsylvania</option>
        <option>Ohio</option>
        <option>Maryland</option>
        <option>West Virginia</option>
    </select>
    <br />
    <button id="submitButton" onclick="storeSettings()">Store Settings</button>&nbsp;&nbsp;
    <button id="clearButton" onclick="clearSettings()">Clear Settings</button>
    <br />
    <span id="outputSpan"></span>
</body>
</html>
